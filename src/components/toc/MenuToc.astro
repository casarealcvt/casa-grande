---
import { categories } from "~/constants";
---

<menu-toc class="sticky top-0 md:top-4 h-fit bg-zinc-100">
  <ul
    class="flex md:flex-col text-stone-600 overflow-scroll scroll-container md:w-40 lg:w-56 h-full"
  >
    {
      categories.map((category) => (
        <li class="">
          <a
            class="block whitespace-nowrap font-medium border-b aria-[current]:border-amber-400 aria-[current]:bg-amber-400 aria-[current]:text-amber-950 p-3 md:px-2 md:py-1 md:border-0"
            href={"#" + category.slug}
          >
            {category.title}
          </a>
        </li>
      ))
    }
  </ul>
</menu-toc>
<script src="./menu-toc"></script>
<style>
  @media (max-width: 767px) {
    .scroll-container::before,
    .scroll-container::after {
      content: "";
      position: absolute;
      top: 0;
      bottom: 0;
      width: 24px;
      background: linear-gradient(to right, #f4f4f5, transparent);
      z-index: 2;
      opacity: 1; /* Initially hidden */
      pointer-events: none; /* Prevent it from blocking clicks */
    }

    .scroll-container::before {
      left: 0;
      opacity: var(--fade-left, 0);
    }

    .scroll-container::after {
      right: 0;
      transform: rotate(180deg);
      opacity: var(--fade-right, 0);
    }
  }
</style>
